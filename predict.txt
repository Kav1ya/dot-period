// api/predict.js
const fetch = require('node-fetch'); // if you want to use node-fetch (or use native fetch)

export default async function handler(req, res) {
    const { cycleData } = req.body; // Get cycle data from the request body

    try {
        // Call BigML API or any other prediction service
        const response = await fetch('https://bigml.io/your_model_endpoint', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer YOUR_BIGML_API_KEY'
            },
            body: JSON.stringify(cycleData) // Send the data from frontend
        });
        
        const result = await response.json();
        
        res.status(200).json({ prediction: result });
    } catch (error) {
        res.status(500).json({ error: 'Failed to get prediction' });
    }
}
